{"version":3,"sources":["presentational/AppBar/LogOutMenu.js","presentational/AppBar/AppBar.js","presentational/CustomSkeleton.js","presentational/Header/Header.js","presentational/Header/HeaderSubtitle.js","presentational/Header/HeaderControl.js","presentational/Button/PrimaryButton.js","presentational/Button/SecundaryButton.js","presentational/Button/CleanButton.js","presentational/Button/IconButton.js","presentational/Button/DangerButton.js","presentational/Modal/Modal.js","presentational/Form/PrimaryInput.js","presentational/Form/AutoCompleteInput.js","connect/FirebaseConnect.js","container/Place/PlaceService.js","container/Place/PlaceCreate.js","container/Place/PlaceItem.js","store/Actions.js","container/Place/PlaceList.js","utils/Utils.js","container/Border/BorderPolygon.js","container/Border/WithBorder.js","container/Border/BorderButton.js","container/Border/BorderOptions.js","container/Blueprint/BlueprintOverlay.js","container/Blueprint/WithBlueprint.js","container/Blueprint/BlueprintButton.js","container/Blueprint/BlueprintUpload.js","container/Blueprint/BlueprintOptions.js","container/Layer/Layer.js","container/Place/Place.js","container/Layout/Drawer.js","container/Layout/Map.js","container/Layout/Login.js","App.js","serviceWorker.js","store/Reducer.js","index.js"],"names":["LogOutMenu","props","_React$useState","React","useState","_React$useState2","Object","slicedToArray","anchor","setAnchor","user","singOut","react_default","a","createElement","IconButton","aria-label","aria-owns","undefined","aria-haspopup","onClick","e","currentTarget","alt","concat","displayName","src","photoURL","width","height","style","borderRadius","Menu","id","anchorEl","open","Boolean","onClose","Grid","container","spacing","justify","margin","item","xs","Typography","variant","color","MenuItem","withStyles","title","cursor","flexGrow","marginLeft","marginRight","subTitle","fontWeight","appBar","classes","action","AppBar","className","position","elevation","Toolbar","customSkeleton","bundle_default","count","space","marginTop","icon","children","gutterBottom","Divider","headerSubtitle","button","background","border","padding","boxShadow","useNextVariant","gridSize","Button","disabled","Tooltip","theme","modal","outline","top","left","transform","Modal","aria-labelledby","aria-describedby","Paper","root","display","alignItems","input","flex","divider","emmiter","console","log","InputBase","placeholder","autoCompleteInput","getInputProps","suggestions","getSuggestionItemProps","loading","PrimaryInput","Search","length","CircularProgress","List","map","suggestion","ListItem","assign","ListItemText","primary","description","fireApp","firebase","apiKey","authDomain","projectId","databaseURL","storageBucket","fireStore","firestore","fireStorage","storage","fireAuth","auth","providers","googleProvider","GoogleAuthProvider","PlaceService","getAll","callback","currentUser","dataArray","Error","collection","where","uid","get","then","query","forEach","doc","push","key","data","catch","err","error","getById","create","add","objectSpread","delete","update","set","upload","folder","file","_ref","progress","load","name","size","type","hashedFileName","Hash","MD5","hex","Math","random","storageRef","ref","metadata","contentType","child","put","on","snapshot","state","bytesTransferred","totalBytes","getDownloadURL","url","PlaceCreate","search","address","placeId","center","blueprint","tag","creationTime","Date","_inputChangeHandler","_this","setState","_inputSelectHandler","geocodeByAddress","res","match","place_id","formatted_address","getLatLng","coord","latitude","lat","longitude","lng","_createHandler","_navigateToPlace","history","_closeModalHandler","Header","Add","dist_default","value","this","onChange","onSelect","el","AutoCompleteInput","HeaderControl","SecundaryButton","Done","Component","withRouter","PlaceItem","date","onDelete","react_router_dom","to","textDecoration","secondary","seconds","ListItemSecondaryAction","MoreVert","bind","Actions","PlaceList","places","_setPlace","_deletePlace","_toggleModal","componentWillMount","_this$props","resetStore","setMapLocation","zoom","componentDidMount","_this2","PlaceTwoTone","PrimaryButton","align","floor","array","i","skeleton","Modal_Modal","Place_PlaceCreate","connect","dispatch","Utils","getRandomHexColor","mapPolygonToString","polygon","polygonPathSize","getPath","getLength","polygonPath","toConsumableArray","Array","getAt","toUrlValue","JSON","stringify","getImageMeta","_callee","regenerator_default","wrap","_context","prev","next","abrupt","Promise","img","Image","addEventListener","stop","setDrawingMode","drawAPI","overlayType","setOptions","drawingMode","google","maps","drawing","OverlayType","polygonOptions","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","editable","draggable","addListener","event","addPolygonEvents","arguments","path","removePolygonEvents","clearListeners","setMap","removeAllPolygonsEvents","polygons","BorderPolygon","mapAPI","classCallCheck","createWithListener","_drawingMode","_drawAPI","_callback","setPolygon","_mapAPI","isEditable","STATE","_polygon","setEditable","setColor","_color","createPolygonFromPathString","pathString","paths","parse","Polygon","LatLng","getCoordinatesAsString","withBorder","InputComponent","WithBorderComponent","_Component","_getPrototypeOf2","_len","args","_key","possibleConstructorReturn","getPrototypeOf","call","apply","_this$props$map","save","place","_this$props$map2","borderPolygons","borderPolygon","store","contourPolygons","index","indexOf","splice","setPlace","setContourPolygons","contour","newPlace","inherits","createClass","_this$props2","isContourLoaded","setContourLoaded","createBorder","loadBorder","deleteBorder","saveBorder","storeBorder","POLYGON_ARRAY","Button_IconButton","Timeline","CustomTextField","& label.Mui-focused","& .MuiOutlinedInput-root","&.Mui-focused fieldset","borderColor","TextField","BorderOptions","contourIndex","_init","params","_isEditable","_changeColor","target","_delete","goBack","_complete","header","label","deleteBtn","DangerButton","Delete","overflowX","overflowY","marginBottom","that","BlueprintOverlay","markerA","markerB","saveFunc","deleteFunc","image","rotation","scale","_bounds","LatLngBounds","south","west","north","east","_image","_src","_map","_div","_rotation","_scale","_saveFunc","_deleteFunc","prototype","OverlayView","onAdd","document","div","borderStyle","borderWidth","appendChild","getPanes","overlayMouseTarget","draw","overlayProjection","getProjection","sw","fromLatLngToDivPixel","getSouthWest","ne","getNorthEast","x","y","updateBounds","bounds","updateTransform","onRemove","updateMarkersVisibility","setVisible","parentNode","removeChild","getAsBlueprint","toUpperCase","slice","toJSON","loadLeastSavedState","persistDeletion","withBlueprint","WithBlueprintComponent","_blueprint$border","latLngBorder","Marker","visible","overlay","updatePoints","newPointA","getPosition","newPointB","newBounds","clear","bl","overlays","setOverlays","blueprints","_storePlace","uploadUIHandlers","asyncToGenerator","mark","_ref2","sent","_x","_x2","_this$props3","isOverlaysLoaded","setOverlaysLoaded","lenght","createBlueprint","loadBlueprint","saveBlueprint","deleteBlueprint","storeBlueprint","uploadBlueprint","OVERLAYS_ARRAY","BlueprintButton","Attachment","BlueprintUpload","_fileUpload","fieldName","abort","react_filepond","server","allowMultiple","allowRevert","process","CustomSlider","thumb","backgroundColor","&:focus,&:hover,&$active","@media (hover: none)","active","valueLabel","& *","track","rail","opacity","markActive","Slider","BlueprintOptions","overlayIndex","_blueprint$overlayInd","_rotate","angle","_save","_isMarkersVisible","SettingsOutlined","min","max","valueLabelDisplay","step","bottom","Layer","_openLayer","_this$props$place","itemLayer","arrayOfTypes","ListItemIcon","component","Place","_getByURLId","urlId","CustomSkeleton","HeaderSubtitle","Border_BorderButton","Blueprint_BlueprintButton","react_router","exact","Drawer","_setURLToHome","Drawer_Drawer","AppBar_AppBar","drawer","Map","_initAPIs","_startMapAPI","_startDrawAPI","setMapAPI","setDrawAPI","getElementById","DrawingManager","drawingControl","_changeMapPosition","setCenter","setZoom","login","signInWithGoogle","react_google_button_es","App","signOut","Layout_Drawer","Layout_Map","Login","withFirebaseAuth","firebaseAppAuth","window","location","hostname","InitialState","createStore","act","app","es","src_App","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.58552e44.chunk.js","sourcesContent":["import React from 'react'\nimport { IconButton, Menu, MenuItem, Typography, Grid } from '@material-ui/core';\n\nexport default function LogOutMenu(props) {\n  \n  const [anchor, setAnchor] = React.useState(null);\n\n  const _openMenuHandler = (e) => {\n    setAnchor(e.currentTarget);\n  }\n\n  const _closeMenuHandler = () => {\n    setAnchor(null);\n  }\n\n  const { user, singOut } = props;\n\n  return (\n    <div>\n        <IconButton aria-label=\"Delete\"\n                    aria-owns={anchor ? 'menuLogOut' : undefined}\n                    aria-haspopup=\"true\"\n                    onClick={_openMenuHandler}>\n          <img  alt={`Meno do usuario ${user.displayName}`} \n              src={user.photoURL} \n              width={24} \n              height={24}\n              style={{borderRadius: `100%`}} />\n        </IconButton>\n\n        <Menu id=\"menuLogOut\" \n              anchorEl={anchor} \n              open={Boolean(anchor)} \n              onClose={_closeMenuHandler}>\n          \n          <Grid container\n                spacing={3}\n                justify=\"center\"\n                style={{margin: 14, width: 250}}>\n            <Grid item\n                  xs={2}>\n              <img  alt={`foto de perfil ${user.displayName}`} \n                  src={user.photoURL} \n                  width={24} \n                  height={24}\n                  style={{borderRadius: `100%`}} />\n            </Grid>\n            <Grid item\n                  xs={8}>\n              <Typography variant=\"subtitle1\"\n                          color=\"inherit\">\n                {user.displayName}\n              </Typography>\n            </Grid>\n          </Grid>\n\n          <MenuItem onClick={singOut}>\n            Sair\n          </MenuItem>\n        </Menu>\n    </div>\n  )\n}\n","import React from 'react'\nimport PropTypes from 'prop-types';\nimport { AppBar, Toolbar, Typography, withStyles } from '@material-ui/core';\nimport LogOutMenu from './LogOutMenu';\n\nconst styles = {\n  title: {\n    cursor: 'pointer',\n    flexGrow: 1,\n    marginLeft: 24,\n    marginRight: 24,\n  },\n  subTitle: {\n    fontWeight: 'normal',\n    color: '#666'\n  },\n  appBar: {\n    width: `100%`\n  }\n}\n\nconst appBar = (props) => {\n\n  const { classes, action, user, singOut } = props;\n\n  const title = () => (\n    <Typography className={classes.title}\n                variant=\"h6\"\n                color=\"inherit\"\n                onClick={action}>\n      InMaps <span className={classes.subTitle}>Creator</span>\n    </Typography>\n  );\n\n\n  return (\n    <AppBar className={classes.appBar} \n            position=\"static\" \n            color=\"default\" \n            elevation={0}>\n        <Toolbar>\n          { title() }\n          {user && (\n            <LogOutMenu user={user} singOut={singOut} />\n          )}\n        </Toolbar>\n    </AppBar>\n  )\n}\n\nappBar.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(appBar);","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport Skeleton from 'react-loading-skeleton';\n\nconst customSkeleton = (props) => {\n\n  return (\n\n    <Grid container\n          spacing={5}\n          style={{ margin: 25 }}>\n      \n      <Grid item\n            xs={5}>\n        <Skeleton />\n      </Grid>\n\n      <Grid item\n            xs={8}>\n        <Skeleton count={3} />\n      </Grid>\n      \n      <Grid item\n            xs={8}>\n        <Skeleton count={3} />\n      </Grid>\n      \n      <Grid item\n            xs={8}>\n        <Skeleton count={3} />\n      </Grid>\n    \n    </Grid>\n  )\n}\n\nexport default customSkeleton;","import React from 'react'\nimport { Grid, Typography, withStyles, Divider } from '@material-ui/core';\n\nconst styles = ({\n  space: {\n    marginTop: 24\n  }\n});\n\nconst header = (props) => {\n\n  const { icon, title, children, classes } = props;\n\n  return (\n    <div>\n      <Grid container \n            justify=\"center\">\n        <Grid item \n              xs={10}\n              className={classes.space}>\n          <Typography variant=\"h4\" \n                      color=\"textPrimary\" \n                      gutterBottom> \n            {icon} {title}\n          </Typography>\n        </Grid>\n      </Grid>\n\n      {children}\n\n      <Grid container \n            justify=\"center\">\n        <Grid item xs={12}>      \n          <Divider className={classes.space} variant=\"middle\" />\n        </Grid>\n      </Grid>\n\n    </div>\n  )\n}\n\nexport default withStyles(styles)(header);","import React from 'react'\nimport { Grid, Typography } from '@material-ui/core';\n\nconst headerSubtitle = (props) => {\n\n  const { children } = props;\n\n  return (\n    <Grid container \n          justify=\"center\">\n      <Grid item \n            xs={10}>\n        <Typography variant=\"caption\"\n                    gutterBottom>\n          { children }\n        </Typography>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default headerSubtitle;","import React from 'react'\nimport { withStyles, Grid } from '@material-ui/core';\n\nconst styles = ({\n  space: {\n    marginTop: 24\n  }\n});\n\nconst headerControl = (props) => {\n\n  const { children, justify, classes, spacing } = props;\n\n  return (\n    <Grid container \n          justify={justify || \"center\"}\n          spacing={spacing || 0}\n          className={classes.space}>\n      { children }\n    </Grid>\n  )\n}\n\nexport default withStyles(styles)(headerControl)","import React from 'react'\nimport { Grid, Button, withStyles } from '@material-ui/core';\n\n\n\nconst styles = ({\n  button: {\n    background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n    borderRadius: 4,\n    border: 0,\n    color: 'white',\n    width: `100%`,\n    height: 48,\n    padding: '0 30px',\n    boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n    useNextVariant: true\n  },\n  icon: {\n    marginRight: 6\n  }\n});\n\n\nconst primaryButton =(props) => {\n\n  const { classes, action, icon, title, gridSize } = props;\n\n  return (\n    <Grid item xs={gridSize}>\n      <Button className={classes.button} onClick={action}>\n        {icon}\n        <span className={classes.icon}></span>\n        {title}\n      </Button>\n    </Grid>\n  )\n}\n\nexport default withStyles(styles)(primaryButton);","import React from 'react'\nimport { Grid, Button, withStyles } from '@material-ui/core';\n\n\n\nconst styles = ({\n  button: {\n    background: '#F5F5F5',\n    borderRadius: 4,\n    border: 0,\n    color: 'black',\n    width: `100%`,\n    height: 48,\n    padding: '0 30px',\n    boxShadow: 'none',\n    useNextVariant: true\n  },\n  icon: {\n    marginRight: 6\n  }\n});\n\n\nconst secundaryButton =(props) => {\n\n  const { classes, action, icon, title, gridSize } = props;\n\n  return (\n    <Grid item xs={gridSize}>\n      <Button className={classes.button} onClick={action}>\n        {icon}\n        <span className={classes.icon}></span>\n        {title}\n      </Button>\n    </Grid>\n  )\n}\n\nexport default withStyles(styles)(secundaryButton);","import React from 'react'\nimport { Grid, Button, withStyles } from '@material-ui/core';\n\n\n\nconst styles = ({\n  button: {\n    background: 'inherit',\n    borderRadius: 4,\n    border: 0,\n    color: '#666',\n    width: `100%`,\n    height: 48,\n    padding: '0 30px',\n    boxShadow: 'none',\n    useNextVariant: true\n  }\n});\n\n\nconst cleanButton =(props) => {\n\n  const { classes, action, title, gridSize } = props;\n\n  return (\n    <Grid item xs={gridSize}>\n      <Button className={classes.button} onClick={action}>\n        {title}\n      </Button>\n    </Grid>\n  )\n}\n\nexport default withStyles(styles)(cleanButton);","import React from 'react'\nimport { withStyles, Grid, Tooltip, IconButton } from '@material-ui/core';\n\nconst styles = ({\n  space: {\n    marginTop: 24,\n  }\n});\n\nconst iconButton = (props) => {\n\n  const {icon, title, action, classes, disabled} = props;\n  \n  return (\n    <Grid item \n          xs={2}\n          className={classes.space}>\n      \n    <Tooltip title={title} aria-label={title}>\n      <IconButton onClick={action} disabled={disabled}> {icon} </IconButton>\n    </Tooltip>\n\n    </Grid>\n  )\n}\n\nexport default withStyles(styles)(iconButton);\n","import React from 'react'\nimport { Grid, Button, withStyles } from '@material-ui/core';\n\n\n\nconst styles = ({\n  button: {\n    background: `linear-gradient(to right, #F45C43, #EB3349)`,\n    borderRadius: 4,\n    border: 0,\n    color: 'white',\n    width: `100%`,\n    height: 48,\n    padding: '0 30px',\n    boxShadow: 'none',\n    useNextVariant: true\n  },\n  icon: {\n    marginRight: 6\n  }\n});\n\n\nconst dangerButton =(props) => {\n\n  const { classes, action, icon, title, gridSize } = props;\n\n  return (\n    <Grid item xs={gridSize}>\n      <Button className={classes.button} onClick={action}>\n        {icon}\n        <span className={classes.icon}></span>\n        {title}\n      </Button>\n    </Grid>\n  )\n}\n\nexport default withStyles(styles)(dangerButton);","import React from 'react';\n\nimport { Modal, withStyles, Paper } from '@material-ui/core';\n\nconst styles = (theme) => ({\n  modal: {\n    position: 'absolute',\n    width: '50%',\n    outline: 'none',\n    top: `25%`,\n    left: `25%`,\n    transform: `translate(25%-25%)`\n  },\n});\n\nconst modal = (props) => {\n\n  const { open, action, classes, children } = props;\n\n  return (\n    <Modal  aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n            open={open}\n            onClose={action}>\n      <Paper className={classes.modal}>\n        {children}\n      </Paper>\n    </Modal>\n  )\n}\n\nexport default withStyles(styles)(modal);\n","import React from 'react'\nimport { withStyles, Paper, InputBase } from '@material-ui/core';\n\nconst styles = {\n  root: {\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n    width: `100%`,\n  },\n  input: {\n    marginLeft: 8,\n    flex: 1,\n  },\n  icon: {\n    padding: 10,\n  },\n  divider: {\n    width: 1,\n    height: 28,\n    margin: 4,\n  },\n}\n\nconst primaryInput = (props) => {\n\n  const { icon, title, classes, emmiter } = props;\n\n  console.log();\n\n  return (\n    <Paper className={classes.root} elevation={1}>\n      \n      <InputBase  {...emmiter({\n                    placeholder: title,\n                    className: classes.input\n                  })}/>\n\n      <span className={classes.icon}>{icon}</span>  \n    </Paper>\n  )\n}\n\nexport default withStyles(styles)(primaryInput);","import React from \"react\";\n\nimport { Grid, Paper, List, ListItem, ListItemText, CircularProgress } from '@material-ui/core';\nimport { Search } from '@material-ui/icons';\n\nimport PrimaryInput from './PrimaryInput';\n\n\nconst autoCompleteInput = (props) => {\n\n  const { getInputProps, suggestions, getSuggestionItemProps, loading  } = props\n\n  return (\n\n    <Grid container\n          justify='center'>\n\n      {/* Input */}\n      <Grid item xs={10}>\n        <PrimaryInput icon={<Search />} \n                      title=\"Procure o Local\"\n                      emmiter={getInputProps} />\n      </Grid>\n\n      {/* Suggestions List */}\n      { suggestions.length !== 0 &&\n        <Grid item xs={10}>\n          <Paper> \n            {loading && <CircularProgress color=\"secondary\" />}\n\n            <List>\n              {suggestions.map(suggestion => (\n                <ListItem button\n                          {...getSuggestionItemProps(suggestion)}>\n                  <ListItemText primary={suggestion.description} />\n                </ListItem>                        \n              ))}                  \n            </List>\n          </Paper>\n        </Grid>\n      }\n\n    </Grid>\n  )\n};\n\nexport default autoCompleteInput;\n","import * as firebase from 'firebase/app';\nimport \"firebase/auth\";\nimport \"firebase/storage\";\nimport \"firebase/firestore\"\n\nconst config = {\n  apiKey: 'AIzaSyCDSqOGuaXdGlmyN_q4B0T2AYeLM-LTUG0',\n  authDomain: 'inmaps.firebaseapp.com',\n  projectId: 'inmaps',\n  databaseURL: 'https://inmaps.firebaseio.com',\n  storageBucket: 'gs://inmaps.appspot.com/'\n};\n\nexport const fireApp = firebase.initializeApp(config);\nexport const fireStore = fireApp.firestore();\nexport const fireStorage = fireApp.storage();\nexport const fireAuth = fireApp.auth();\n\n// Auth\nexport const providers = {\n  googleProvider: new firebase.auth.GoogleAuthProvider()\n}","import { fireStore, fireStorage, fireAuth } from '../../connect/FirebaseConnect';\nimport Hash from 'jshashes';\n\n\nexport default class PlaceService {\n\t\t\t\n\n\tstatic getAll = (callback) => {\n\n\t\tconst user = fireAuth.currentUser;\n\t\tlet dataArray = [];\n\n\t\tif (user) {\t\t\n\t\t\tfireStore.collection('places')\n\t\t\t\t.where('uid', '==', user.uid)\n\t\t\t\t.get()\n\t\t\t\t.then(query => {\t\t\t\t\t\n\t\t\t\t\tquery.forEach(doc => dataArray.push({\n\t\t\t\t\t\tkey: doc.id,\n\t\t\t\t\t\tdata: doc.data()\n\t\t\t\t\t}));\n\t\t\t\t\tcallback(dataArray);\n\t\t\t\t})\n\t\t\t\t.catch(err => console.error(err));\n\t\t} else {\n\t\t\tthrow new Error('401 Unauthorized Request ');\t\t\t\n\t\t}\n\t}\n\n\tstatic getById = (id, callback) => {\n\n\t\tconst user = fireAuth.currentUser;\n\t\t\n\t\tif (user) {\n\t\t\tfireStore.collection('places')\n\t\t\t\t.doc(id)\n\t\t\t\t.get()\n\t\t\t\t.then(doc => {\n\t\t\t\t\tcallback({\n\t\t\t\t\t\tkey: doc.id,\n\t\t\t\t\t\tdata: doc.data()\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(err => console.error(err));\n\t\t\t} else {\n\t\t\t\tthrow new Error('401 Unauthorized Request ');\t\t\t\n\t\t\t}\n\t}\n\n\tstatic create = (data, callback) => {\n\n\t\tconst user = fireAuth.currentUser;\n\n\t\tif (user) {\n\n\t\t\tfireStore.collection('places')\n\t\t\t\t.add({\n\t\t\t\t\t...data,\n\t\t\t\t\tuid: user.uid\n\t\t\t\t})\n\t\t\t\t.then(doc => {\n\t\t\t\t\t//return doc id for url navigation\n\t\t\t\t\tcallback(doc.id)\n\t\t\t\t})\n\t\t\t\t.catch(err => callback(err));\n\t\t} else {\n\t\t\tthrow new Error('401 Unauthorized Request ');\n\t\t}\n\t}\n    \n\tstatic delete = (id) => {\n\n\t\tconst user = fireAuth.currentUser;\n\n\t\tif (user) {\n\t\t\tfireStore.collection('places')\n\t\t\t\t.where('uid', '==', user.uid)\n\t\t\t\t.doc(id)\n\t\t\t\t.delete();\n\t\t} else {\n\t\t\tthrow new Error('401 Unauthorized Request ');\n\t\t}\n\t}\n\n\tstatic update = (id, data) => {\n\n\t\tconst user = fireAuth.currentUser;\n\n\t\tif (user) {\n\t\t\tfireStore.collection('places')\n\t\t\t\t.doc(id)\n\t\t\t\t.set(data);\n\t\t} else {\n\t\t\tthrow new Error('401 Unauthorized Request ');\n\t\t}\n\t}\n \n\tstatic upload = (folder, file, { progress, load, error } , callback) => {\n\n\t\tconst { name, size, type } = file;\n\n\t\t// Hash file name\n\t\tconst hashedFileName = new Hash.MD5().hex(name + (Math.random() * 1000 * size));\n\t\t\n\t\t// Ref()\n\t\tconst storageRef = fireStorage.ref();\n\t\tconst metadata = {\n\t\t\tcontentType: type,\n\t\t}\n\t\t\n\t\t// Start Upload\n\t\tconst uploadTask = storageRef.child(folder + hashedFileName).put(file, metadata);\n\n\t\t// On finished\n\t\tuploadTask.on('state_changed',\n\t\t\t(snapshot) => progress((snapshot.state === 'running'), snapshot.bytesTransferred, snapshot.totalBytes),\n\t\t\t(err) => console.log('On upload', err),\n\t\t\t() => {\n\t\t\t\t// Get File URL\n\t\t\t\tstorageRef.child(folder + hashedFileName).getDownloadURL()\n\t\t\t\t.then((url) => {\n\t\t\t\t\t// Callback URL and Hashed FileName to instanciate a new Blueprint\n\t\t\t\t\tcallback(url, hashedFileName);\n\t\t\t\t\tload();\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log('On get URL',err));\n\t\t\t});\n\t}\n}","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Add, Done } from '@material-ui/icons';\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng } from 'react-places-autocomplete';\nimport { Header, HeaderControl, AutoCompleteInput, SecundaryButton } from '../../presentational';\nimport PlaceService from './PlaceService';\n\nclass PlaceCreate extends Component {\n  \n  state = {\n    search: '',\n    id: '',\n    title: '',\n    description: '',\n    address: '',\n    placeId: '',\n    center: {},\n    border: [],\n    blueprint: [],\n    tag: [],\n    creationTime: new Date(),\n  }\n\n  \n  _inputChangeHandler = (search) => {\n    this.setState({ search: search });\n  };\n\n  _inputSelectHandler = (search) => {\n    \n    geocodeByAddress(search)\n      .then(res => {\n        this.setState({\n          title: search.match(/^(.[^\\s]+)\\s(.[^\\s]+)/g)[0],\n          description: search,\n          placeId: res[0].place_id,\n          address: res[0].formatted_address,\n        });\n\n        return getLatLng(res[0]);\n      })\n      .then((coord) => this.setState({ center: {latitude: coord.lat, longitude: coord.lng} }))\n      .then(() => console.log(this.state))\n      .catch(error => console.error('Error', error));\n  }\n\n  _createHandler = () => {\n    PlaceService.create(this.state, (res) => this._navigateToPlace(res));\n  }\n\n  _navigateToPlace = (id) => {\n    this.props.history.push(`/place/${id}`);\n  }\n\n  _closeModalHandler = () => {\n    console.log('close')\n  }\n\n\n  render() {\n    return (\n      <Header icon={<Add />} title=\"Novo Local\">\n        <PlacesAutocomplete value={this.state.search}\n                            onChange={this._inputChangeHandler}\n                            onSelect={this._inputSelectHandler}>\n            {el => <AutoCompleteInput {...el}/>}\n        </PlacesAutocomplete>\n        <div style={{margin: '0 12px'}}>\n          <HeaderControl  justify=\"flex-end\"\n                          spacing={8}>\n          \n            {/* <CleanButton  title=\"Cancelar\" \n                          gridSize={4}\n                          action={this._closeModalHandler}/> */}\n            \n            <SecundaryButton  icon={<Done />} \n                              title=\"Prximo\" \n                              gridSize={4} \n                              action={this._createHandler} />\n\n          </HeaderControl>        \n        </div>\n      </Header>\n    )\n  }\n\n}\n\n\nexport default withRouter(PlaceCreate);","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { ListItem, ListItemText, ListItemSecondaryAction, IconButton, Menu, MenuItem } from '@material-ui/core';\nimport { MoreVert } from '@material-ui/icons';\n\nexport default function PlaceItem(props) {\n  const [anchor, setAnchor] = React.useState(null);\n  \n  const _openMenuHandler = (e) => {\n    setAnchor(e.currentTarget);\n  }\n\n  const _closeMenuHandler = () => {\n    setAnchor(null);\n  }\n\n  const { id, title, date, onDelete } = props;\n\n\n  return (\n          <div>\n            <ListItem>\n              <Link to={`/place/${id}`}\n                    style={{ color:'inherit', textDecoration: 'none' }}>\n                <ListItemText primary={title}\n                              secondary = {date.seconds}/>\n              </Link>\n\n              <ListItemSecondaryAction>\n                <IconButton aria-label=\"Delete\"\n                            aria-owns={anchor ? 'menu' : undefined}\n                            aria-haspopup=\"true\"\n                            onClick={_openMenuHandler}>\n                    <MoreVert />\n                </IconButton>\n              </ListItemSecondaryAction>\n            </ListItem>\n\n            <Menu id=\"menu\" \n                  anchorEl={anchor} \n                  open={Boolean(anchor)} \n                  onClose={_closeMenuHandler}>\n              <MenuItem onClick={onDelete.bind(null, id)}>Excluir</MenuItem>\n            </Menu>\n          </div>\n  )\n}","export const Actions = {\n  setMapAPI: 'SET_MAP',\n  setMapLocation: 'SET_MAP_LOCATION',\n  setMapDrawAPI: 'SET_MAP_DRAW',\n  setPlace: 'SET_PLACE',\n  setOverlays: 'SET_OVERLAYS',\n  setOverlaysLoaded: 'SET_OVERLAYS_LOADED',\n  setContourPolygons: 'SET_CONTOUR_POLYGONS',\n  setContourLoaded: 'SET_CONTOUR_LOADED',\n  resetStore:'RESET_STORE',\n}","import React, { Component } from 'react';\n\nimport { List, Typography, Grid } from '@material-ui/core';\n\nimport { Add, PlaceTwoTone } from '@material-ui/icons';\nimport { Header, HeaderControl, PrimaryButton, Modal } from '../../presentational';\nimport PlaceService from './PlaceService';\nimport PlaceCreate from './PlaceCreate';\nimport PlaceItem from './PlaceItem';\nimport Skeleton from 'react-loading-skeleton';\nimport { connect } from 'react-redux';\nimport { Actions } from '../../store/Actions';\n\n\nclass PlaceList extends Component {\n  \n  state = {\n    modal: false,\n    places: [],\n    load: false,\n  }\n\n  _setPlace = () => {\n\n    PlaceService.getAll(res => {\n      try {\n        this.setState({ places: res, load: true });\n      }\n      catch (err) {\n        console.log(err);\n      }\n    });\n  }\n\n  _deletePlace = (id, e) => {\n    PlaceService.delete(id);\n    this._setPlace();\n  }\n\n  _toggleModal = () => {\n    this.setState({modal: !this.state.modal})\n  }\n  \n  componentWillMount = () => {\n    const { resetStore, setMapLocation } = this.props;\n\n    resetStore();\n\n    setMapLocation({\n      latitude: -14.235004,\n      longitude: -51.925279,\n      zoom: 3\n    });\n  }\n\n  componentDidMount = () => {\n    this._setPlace();\n    console.log('reset');\n\n\n    console.log(this.props);\n  }\n\n  render() {\n\n    const skeleton = () => {\n\n      const size = Math.floor(Math.random() * 10);\n      const array = [];\n\n      \n      for(let i=0; i<size; i++) {\n        \n        array.push(\n          <div  key={i}\n                style={{ margin: 24, width: 300 }}>\n            <Skeleton count={2} />\n          </div>\n        );\n\n      }\n\n      return array;\n    }\n\n    return (\n      <div>\n        <Header icon={<PlaceTwoTone />} title=\"Lugares\">\n          <HeaderControl>\n              <PrimaryButton icon={<Add />} title=\"Criar\" gridSize={7} action={this._toggleModal} />\n          </HeaderControl>\n        </Header>\n\n        {(this.state.load) ? (\n        <List style={{ marginTop: 24}}>\n          {(this.state.places.length !== 0) ? this.state.places.map((el) => (\n              <PlaceItem  key={el.key}\n                          id={el.key}\n                          title={el.data.title}\n                          date={el.data.creationTime}\n                          onDelete={this._deletePlace} />\n          )) : (\n          \n            <Grid container\n                  justify=\"center\"\n                  spacing={3}\n                  style={{marginTop: `25%`}}>\n              <Grid item\n                    xs={10}>\n                <Typography variant=\"subtitle1\" align=\"center\">\n                  Voc no possui nenhum projeto criado.<br /> \n                  :P \n                </Typography>\n              </Grid>\n            </Grid>\n          )}\n        </List>\n        ) : skeleton() }\n\n        {/* MODAL */}\n        <Modal open={this.state.modal} action={this._toggleModal}>\n          <PlaceCreate />\n        </Modal>\n      </div>\n    )\n  }\n}\n\n// \n// Redux\n// \nconst mapStateToProps = (state) => {\n  return {\n    ...state\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setMapLocation: (position) => dispatch({\n      type: Actions.setMapLocation,\n      lat: position.latitude,\n      lng: position.longitude,\n      zoom: position.zoom\n    }), \n    resetStore: () => dispatch({\n      type: Actions.resetStore\n    }),\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PlaceList);","/* global google */\n\nexport default class Utils {\n\n  // Misc\n  static getRandomHexColor = () => {\n  \n    let letters = '0123456789ABCDEF';\n    let color = '#';\n    for (let i = 0; i < 6; i++) {\n      color += letters[Math.floor(Math.random() * 16)];\n    }\n    return color;\n  }\n\n  static mapPolygonToString = (polygon) => {\n    // => Map polygon path to a array of 'path size'\n    const polygonPathSize = polygon.getPath().getLength();\n    const polygonPath = [...new Array(polygonPathSize)]\n        .map((el, i) => polygon.getPath()\n            .getAt(i)\n            .toUrlValue(6)\n            .match(/(-?\\d+(\\.\\d+)?)/g));\n\n    // => Convert nested array to string for saving in Firebase. \n    return JSON.stringify(polygonPath);\n  }\n\n\n  static getImageMeta = async (url) => {\n    return new Promise(res => {\n      const img = new Image();\n      img.src = url;\n      img.addEventListener(\"load\",() => res({width: img.width, height: img.height}));\n    });\n  }\n\n\n\n  // Maps\n  static setDrawingMode = (drawAPI, overlayType) => {\n      drawAPI.setOptions({\n        drawingMode: google.maps.drawing.OverlayType[overlayType],\n        polygonOptions: {\n          strokeColor: Utils.getRandomHexColor(),\n          strokeOpacity: 0.5,\n          strokeWeight: 3,\n          fillColor: Utils.getRandomHexColor(),\n          fillOpacity: 0.3,\n          editable: true,\n          draggable: false,\n        },\n      });\n  }\n\n  static addListener = (drawAPI, action, callback) => {\n    google.maps.event.addListener(drawAPI, action, callback);\n  }\n\n  static addPolygonEvents = (polygon, callback, clickCallback = null) => {\n    const path = polygon.getPath();\n    google.maps.event.addListener(path, 'insert_at', () => callback(polygon));\n    google.maps.event.addListener(path, 'set_at', () => callback(polygon));\n    // google.maps.event.addListener(polygon, 'click', () => clickCallback(polygon));\n  }\n\n  static removePolygonEvents = (polygon) => {\n    google.maps.event.clearListeners(polygon, 'polygoncomplete');\n    google.maps.event.clearListeners(polygon, 'insert_at');\n    google.maps.event.clearListeners(polygon, 'set_at');\n    polygon.setMap(null);\n  }\n\n  static removeAllPolygonsEvents = (polygons) => {\n    polygons.map(polygon => this.removePolygonEvents(polygon));\n  }\n\n}","/* global google */\n\nimport Utils from '../../utils/Utils';\n\n\n// \n// O Border polygon fornece todas as ferramentas para criao de um poligono!!\n// \nexport default class BorderPolygon {\n\n\n  constructor(mapAPI, drawAPI, callback) {\n    this._mapAPI = mapAPI\n    this._drawAPI = drawAPI;\n    this._callback = callback;\n\n    this._polygon = null;\n    this._color = Utils.getRandomHexColor();\n  }\n\n\n  createWithListener = () => {\n\n    this._drawingMode('POLYGON');\n    \n    google.maps.event.addListener(this._drawAPI, 'polygoncomplete', (polygon) => {\n\n      this._drawingMode(null);\n      this.load(polygon);\n    \n      google.maps.event.clearListeners(this._drawAPI, 'polygoncomplete');\n\n      this._callback(this);\n    });\n  }\n\n  load = (polygon) => {\n\n    \n    const path = polygon.getPath();\n    \n    this.setPolygon(polygon);\n    \n    polygon.setMap(this._mapAPI);\n    \n    google.maps.event.addListener(path, 'insert_at', () => this._callback(this));\n    google.maps.event.addListener(path, 'set_at', () => this._callback(this));\n    \n  }\n\n  isEditable = (STATE) => {\n    this._polygon.setEditable(STATE);\n  }\n\n  setColor = (color) => {\n    this._polygon.setOptions({ \n      strokeColor: color,\n      fillColor: color       \n    }); \n\n    this._color = color;\n  }\n  \n  _drawingMode = (overlayType) => {\n    \n    this._drawAPI.setOptions({\n      drawingMode: google.maps.drawing.OverlayType[overlayType],\n      polygonOptions: {\n        strokeColor: this._color,\n        strokeOpacity: 0.5,\n        strokeWeight: 3,\n        fillColor: this._color,\n        fillOpacity: 0.3,\n      },\n    });\n  }\n\n  createPolygonFromPathString = (pathString, color = this._color) => {\n\n    this._color = color;\n\n    const paths = JSON.parse(pathString);\n\n    return new google.maps.Polygon({\n      paths: paths.map(coord => new google.maps.LatLng(coord[0], coord[1])),\n      strokeColor: color,\n      strokeOpacity: 0.5,\n      strokeWeight: 2,\n      fillColor: color,\n      fillOpacity: 0.3\n    });\n\n  }\n\n  getCoordinatesAsString = () => {\n    // => Map polygon path to a array of 'path size'\n    const polygonPathSize = this._polygon.getPath().getLength();\n    const polygonPath = [...new Array(polygonPathSize)]\n        .map((el, i) => this._polygon.getPath()\n            .getAt(i)\n            .toUrlValue(6)\n            .match(/(-?\\d+(\\.\\d+)?)/g));\n\n    // => Convert nested array to string for saving in Firebase. \n    return JSON.stringify(polygonPath);\n  }\n\n  setPolygon(polygon) {\n    this._polygon = polygon;\n  }\n\n}","import React, { Component } from 'react';\nimport { Actions } from '../../store/Actions';\nimport { connect } from 'react-redux';\nimport BorderPolygon from './BorderPolygon';\nimport PlaceService from '../Place/PlaceService';\n\n\n\n// Manipulate Border Polygon Aniwhere\nexport const withBorder = (InputComponent) => {\n\n  class WithBorderComponent extends Component {\n\n    create = () => {\n      \n      const { mapAPI, drawAPI } = this.props.map;\n      const borderPolygon = new BorderPolygon(mapAPI, drawAPI, this.save);\n      borderPolygon.createWithListener();\n    }\n\n    load = () => {\n      \n      console.log('LOAD BOARD')\n\n      const { border } = this.props.place;\n      const { mapAPI, drawAPI } = this.props.map;\n\n      const borderPolygons = border.map(({ path, color }) => {\n\n        const borderPolygon = new BorderPolygon(mapAPI, drawAPI, this.save);\n\n        const polygon = borderPolygon.createPolygonFromPathString(path, color);\n\n        borderPolygon.load(polygon);\n\n        return borderPolygon\n      });\n\n      this.store(borderPolygons);\n\n    }\n    \n    save = (polygon) => {\n      \n      const { contourPolygons } = this.props;\n      \n      const index = contourPolygons.indexOf(polygon);\n              \n      if (index === -1) {\n        contourPolygons.push(polygon);\n      } else {\n        contourPolygons[index] = polygon;\n      }\n      \n      this.store(contourPolygons);\n    }\n\n    delete = (index) => {\n\n      const { contourPolygons } = this.props;\n  \n      contourPolygons[index]._polygon.setMap(null)\n\n      contourPolygons.splice(index, 1);\n\n      this.store(contourPolygons);\n    }\n\n    store = (contourPolygons) => {\n\n      const { place, setPlace, setContourPolygons } = this.props;\n\n      const border = contourPolygons.map((contour, index) => {\n        return {\n          title: `Contorno #${index+1}`,\n          path: contour.getCoordinatesAsString(),\n          color: contour._color\n        }\n      });\n    \n      const newPlace = {\n        ...place,\n        border: border\n      }\n\n      setContourPolygons(contourPolygons);\n      setPlace(newPlace);\n      \n      try {\n        console.log('STORE BORDER');\n        console.log(newPlace, contourPolygons);\n        PlaceService.update(newPlace.id, newPlace);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    componentWillMount() {\n      const { isContourLoaded, setContourLoaded, place } = this.props;\n      \n      if (!isContourLoaded && place.border.length !== 0) {\n        this.load();\n        setContourLoaded(true);\n      } else if (place.border.length === 0) {\n        setContourLoaded(true);\n      }\n    }\n    \n    render () { \n      return (\n        <InputComponent {...this.props}\n                        createBorder={this.create}\n                        loadBorder={this.load}\n                        deleteBorder={this.delete}\n                        saveBorder={this.save}\n                        storeBorder={this.store} />\n      ) \n    }\n  }\n\n  // Redux\n  const mapStateToProps = (state) => {\n    return {...state};\n  }\n\n  const mapDispatchToProps = (dispatch) => {\n    return {\n      setContourPolygons: (POLYGON_ARRAY) => dispatch({\n        type: Actions.setContourPolygons,\n        contourPolygons: POLYGON_ARRAY\n      }),\n      setPlace: (place) => dispatch({\n        type: Actions.setPlace,\n        place: place\n      }),\n      setContourLoaded: (STATE) => dispatch({\n        type: Actions.setContourLoaded,\n        isContourLoaded: STATE\n      }),\n    }\n  }\n\n\n  return connect(\n    mapStateToProps, \n    mapDispatchToProps\n    )(WithBorderComponent);\n}","import React, { Component } from 'react'\nimport { IconButton } from '../../presentational';\nimport { Timeline } from '@material-ui/icons';\nimport { withBorder } from './WithBorder';\nimport { PropTypes } from 'prop-types';\n\n\nclass BorderButton extends Component {\n\n  render() {\n\n    return (\n      <IconButton icon={<Timeline />} \n                  title=\"Criar Contorno\" \n                  action={this.props.createBorder} />\n    )\n  }\n}\n\nBorderButton.propTypes = {\n  createBorder: PropTypes.func.isRequired,\n}\n\n\nexport default withBorder(BorderButton);\n","import React, { Component } from 'react';\nimport { Grid, Typography, TextField } from '@material-ui/core';\nimport { DangerButton, SecundaryButton } from '../../presentational';\nimport { Delete, Done, Timeline } from '@material-ui/icons';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/styles';\nimport { withBorder } from './WithBorder';\nimport { withRouter } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\n\n\nconst CustomTextField = withStyles({\n  root: {\n    '& label.Mui-focused': {\n      color: '#24c6dc',\n    },\n    '& .MuiOutlinedInput-root': {\n      '&.Mui-focused fieldset': {\n        borderColor: '#24c6dc',\n      },\n    },\n    width: `100%`\n  }\n})(TextField);\n\nconst styles = {\n  container: {\n    marginTop: 24,\n    height:`100%`,\n    overflowX: 'hidden',\n    overflowY: 'auto',\n  },\n  header: {\n    marginBottom: 24,    \n  },\n  icon: {\n    marginRight: 16\n  },\n  deleteBtn: {\n    marginTop: 24,   \n    marginBottom: 24\n  }\n}\n\nclass BorderOptions extends Component {\n\n  state = {\n    contourIndex: null,\n    color: '#000000',\n  }\n\n  _init = () => {\n    const { border } = this.props.place;\n    const { contourIndex } = this.props.match.params;\n    \n    const { color } = border[contourIndex];\n\n    this.setState({ \n      contourIndex: contourIndex,\n      color: color\n    });\n  }\n\n  _isEditable = (STATE) => {\n    const { contourPolygons } = this.props;\n    const contour = contourPolygons[this.state.contourIndex];\n    \n    contour.isEditable(STATE);\n  }\n\n  _changeColor = (event) => {\n    \n    const color = event.target.value;\n    \n    if (color.length <= 7 && color[0] === '#'){\n      const { contourPolygons } = this.props;\n      const contour = contourPolygons[this.state.contourIndex];\n    \n      contour.setColor(color);\n      this.setState({ color });\n    }\n  }\n\n  _delete = () => {\n    this._isEditable(false);\n    this.props.deleteBorder(this.state.contourIndex);\n    this.props.history.goBack();\n  }\n\n  _complete = () => {\n    const { contourPolygons, saveBorder} = this.props;\n    const { contourIndex } = this.state;\n    const contour = contourPolygons[contourIndex];\n\n    saveBorder(contour);\n    this._isEditable(false);\n\n    this.props.history.goBack();\n  }\n  \n  componentWillMount() {\n    this._init();\n  }\n\n  componentDidMount() {\n    this._isEditable(true);\n  }\n\n  render() {\n    \n    const { classes } = this.props;\n\n    return (\n      <div>\n        <Grid className={classes.container}\n              container \n              justify=\"center\"\n              spacing={3}>\n            \n          {/* Header */}\n          <Grid className={classes.header}\n                item \n                xs={10}>\n            <Typography variant=\"h5\" gutterBottom>\n              <Timeline className={classes.icon} />\n              Ajustes da borda\n            </Typography>\n            {/* <Typography variant=\"caption\" gutterBottom>\n              lorem ipsum\n            </Typography> */}\n          </Grid>\n\n          {/* Ajuste das Cores */}\n          <Grid item\n                xs={10}>\n            <CustomTextField  label=\"Cor do poligono\"\n                              value={this.state.color}\n                              onChange={this._changeColor}\n                            variant=\"outlined\"/>\n          </Grid>\n\n          {/* Delete Button */}\n          <Grid item\n                xs={9}\n                className={classes.deleteBtn}>\n            <DangerButton icon={<Delete />} \n                          title=\"Excluir\" \n                          gridSize={12} \n                          action={this._delete} />\n          </Grid>\n\n          {/* Save */}\n          <Grid item\n                xs={9}>\n            <SecundaryButton  icon={<Done />} \n                              title=\"Pronto\" \n                              gridSize={12} \n                              action={this._complete} />\n          </Grid>\n        </Grid>\n      </div>\n    )\n  }\n}\n\nBorderOptions.propTypes = {\n  place: PropTypes.object.isRequired,\n  contourPolygons: PropTypes.array.isRequired,\n};\n\n\n// \n// REDUX\n// \nconst mapStateToProps = (state) => {\n  return {...state};\n}\n\nexport default connect(\n  mapStateToProps\n)(\n  withBorder(withStyles(styles)(withRouter(BorderOptions)))\n);\n","/* global google */ \nlet that = {};\n\nexport default function BlueprintOverlay(map, blueprint, markerA, markerB, saveFunc, deleteFunc) {\n  \n  const {image, url, border, rotation, scale} = blueprint;\n\n  this._bounds = new google.maps.LatLngBounds(\n    new google.maps.LatLng(border.south, border.west),\n    new google.maps.LatLng(border.north, border.east)\n  );\n\n  this._image = image;\n  this._src = url;\n  this._map = map;\n  this._div = null;\n  this._rotation = rotation;\n  this._scale = scale;\n\n  this._saveFunc = saveFunc;\n  this._deleteFunc = deleteFunc;\n  \n  this.markerA = markerA;\n  this.markerB = markerB;\n  this.setMap(map);\n}\n\nBlueprintOverlay.prototype = new google.maps.OverlayView();\n\nBlueprintOverlay.prototype.onAdd = function () {\n\n  const img = document.createElement('img');\n  img.src = this._src;\n  img.style.width = '100%';\n  img.style.height = '100%';\n  img.style.position = 'absolute';\n\n  const div = document.createElement('div');\n  div.style.borderStyle = 'none';\n  div.style.borderWidth = '0px';\n  div.style.position = 'absolute';\n  div.style.transform = `rotate(${this._rotation}deg) scale(${this._scale}, ${this._scale})`;\n\n\n  div.appendChild(img);\n\n  this._div = div;\n  \n  const panes = this.getPanes();\n  panes.overlayMouseTarget.appendChild(div);\n}\n\nBlueprintOverlay.prototype.draw = function () {\n\n  const overlayProjection = this.getProjection();\n  const sw = overlayProjection.fromLatLngToDivPixel(this._bounds.getSouthWest());\n  const ne = overlayProjection.fromLatLngToDivPixel(this._bounds.getNorthEast());\n  const div = this._div;\n\n  div.style.left = sw.x + 'px';\n  div.style.top = ne.y + 'px';\n  div.style.width = (ne.x - sw.x) + 'px';\n  div.style.height = (sw.y - ne.y) + 'px';\n}\n\nBlueprintOverlay.prototype.updateBounds = function (bounds) {\n  this._bounds = bounds;\n  this.draw();\n}\n\nBlueprintOverlay.prototype.updateTransform = function (rotation, scale) {\n  this._rotation = rotation;\n  this._scale = scale;\n  this.onRemove();\n  this.onAdd();\n  this.draw();\n}\n\nBlueprintOverlay.prototype.updateMarkersVisibility = function (STATE) {\n  this.markerA.setVisible(STATE);\n  this.markerB.setVisible(STATE); \n}\n\nBlueprintOverlay.prototype.onRemove = function () {\n  this._div.parentNode.removeChild(this._div);\n  this._div = null;\n}\n\nBlueprintOverlay.prototype.getAsBlueprint = function () {\n  return {\n    title: `Planta ${this._image.toUpperCase().slice(0, 7)}`,\n    image: this._image,\n    url: this._src,\n    border: this._bounds.toJSON(),\n    scale: this._scale,\n    rotation: this._rotation\n  }\n}\n\nBlueprintOverlay.prototype.loadLeastSavedState = function () {\n  this.updateBounds(that._bounds);\n  this.updateTransform(that._rotation, that._scale);\n  this.markerA = that.markerA;\n  this.markerB = that.markerB;\n}\n\nBlueprintOverlay.prototype.save = function () {\n  that = {...this};\n  this._saveFunc(this);\n}\n\nBlueprintOverlay.prototype.persistDeletion = function (index) {\n  this._deleteFunc(index);\n}\n","/* global google */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Actions } from '../../store/Actions';\nimport BlueprintOverlay from './BlueprintOverlay';\nimport Utils from '../../utils/Utils';\nimport PlaceService from '../Place/PlaceService';\nimport { PropTypes } from 'prop-types';\n\nexport const withBlueprint = InputComponent => { \n\n  class WithBlueprintComponent extends Component {\n\n    // Create Overlay Instances from a Blueprint\n    create = (blueprint) => {\n      \n      const { mapAPI } = this.props.map;\n      const { north, east, south, west } = blueprint.border;\n\n      const latLngBorder = new google.maps.LatLngBounds(\n        new google.maps.LatLng(south, west),\n        new google.maps.LatLng(north, east)\n      )\n\n      const ne = latLngBorder.getNorthEast();\n      const sw = latLngBorder.getSouthWest();\n      \n      // Size/Position COntrol Markers\n      const markerA = new google.maps.Marker({\n        position: sw,\n        visible: false,\n        map: mapAPI,\n        draggable: true,\n        title: `SW: lat:${sw.lat()} + lng: ${sw.lng()}`\n      });\n\n      const markerB = new google.maps.Marker({\n        position: ne,\n        visible: false,\n        map: mapAPI,\n        draggable: true,\n        title: `NE: lat:${ne.lat()} + lng: ${ne.lng()}`\n      });\n\n      const overlay = new BlueprintOverlay(mapAPI, blueprint, markerA, markerB, this.save, this.delete);\n\n      //Markers Logic\n      const updatePoints = () => {\n        const newPointA = markerA.getPosition();\n        const newPointB = markerB.getPosition();\n        const newBounds = new google.maps.LatLngBounds(newPointA, newPointB);\n        overlay.updateBounds(newBounds);\n      }\n\n      Utils.addListener(markerA, 'drag', updatePoints);\n      Utils.addListener(markerB, 'drag', updatePoints);\n\n      return overlay;\n    }\n\n    //  Load Overlays[] from Place Blueprint[]\n    load = () => {\n\n      this.clear();\n\n      const { blueprint } = this.props.place;\n\n      blueprint.forEach((bl) => { \n        const overlay = this.create(bl);        \n        this.save(overlay);        \n      });\n    }\n\n    // Add a new or modified Overlay to Overlays[]\n    save = (overlay) => {\n      \n      const { overlays } = this.props;\n      const index = overlays.indexOf(overlay);\n\n      if (index === -1) {\n        overlays.push(overlay);\n      } else {\n        overlays[index] = overlay;\n      }\n      \n      this.store(overlays);\n    }\n\n    // Delete from OvWithBlueprinterlays[]\n    delete = (index) => {\n      \n      const { overlays } = this.props;\n      \n      overlays.splice(index, 1);\n\n      this.store(overlays);\n    }\n\n    // Persist changes to Redux Store and Firebase\n    store= (overlays) => {\n      const { place, setOverlays } = this.props;\n      const blueprints = overlays.map(overlay => overlay.getAsBlueprint());\n      \n      setOverlays(overlays);\n      this._storePlace({\n        ...place,\n        blueprint: [...blueprints]\n      });\n    }\n\n    // Upload File and Add Overlay\n    upload = (file, uploadUIHandlers) => {\n      \n      PlaceService.upload('blueprint/', file, uploadUIHandlers, async (url, hashedFileName) => {\n\n        console.log(url);\n        \n        const { place } = this.props;\n        const { width, height } = await Utils.getImageMeta(url); \n        \n        // Create Standart Boards\n        const border = new google.maps.LatLngBounds(\n          new google.maps.LatLng(place.center.latitude, place.center.longitude),\n          new google.maps.LatLng(place.center.latitude + (height * 0.000001), place.center.longitude + (width * 0.000001))\n        );\n        console.log(border);\n\n\n        // Initialize a new Blueprint\n        const blueprint = {\n          image: hashedFileName,\n          border: border.toJSON(),\n          url: url,\n          scale: 1,\n          rotation: 0,\n        }\n\n        // Create a Overlay;\n        const overlay = this.create(blueprint);\n\n        // Save overlay and blueprint\n        this.save(overlay);\n      });\n    }\n\n    _storePlace(place) {\n      try {\n        console.log('STORE PLACE');\n        this.props.setPlace(place);\n        PlaceService.update(place.id, place);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    // Clear All overlays from Map and Array, \n    // DO NOT remove blueprints from Place\n    clear = () => {\n      const { overlays, setOverlays } = this.props;\n\n      // Hide Overlays from map\n      overlays.forEach(overlay => {\n        overlay.setMap(null);\n      });\n\n      // Reset Overlays[] \n      setOverlays(new Array(0));\n    }\n\n    componentWillMount() {\n\n      const { isOverlaysLoaded, setOverlaysLoaded, place } = this.props;\n      // Load Overlays from Place Blueprit \n      if (!isOverlaysLoaded && place.blueprint.lenght !== 0){\n        this.load();\n        setOverlaysLoaded(true);\n      } else if (place.blueprint.length === 0) {\n        setOverlaysLoaded(true);\n      }\n    }\n    \n    render() { \n      return (\n        <InputComponent {...this.props}\n                        createBlueprint={this.create}\n                        loadBlueprint={this.load}\n                        saveBlueprint={this.save}\n                        deleteBlueprint={this.delete}\n                        storeBlueprint={this.store}\n                        uploadBlueprint={this.upload} />\n      );\n    }\n  }\n\n\n  WithBlueprintComponent.propTypes = {\n    overlays: PropTypes.array.isRequired,\n    place: PropTypes.object.isRequired,\n  };\n\n  // Redux\n  const mapStateToProps = (state) => {\n    return {...state};\n  }\n\n  const mapDispatchToProps = (dispatch) => {\n    return {\n      setPlace: (place) => dispatch({\n        type: Actions.setPlace,\n        place: place\n      }),\n      setOverlays: (OVERLAYS_ARRAY) => dispatch({\n        type: Actions.setOverlays,\n        overlays: OVERLAYS_ARRAY\n      }),\n      setOverlaysLoaded: (STATE) => dispatch({\n        type: Actions.setOverlaysLoaded,\n        isOverlaysLoaded: STATE\n      }),\n    }\n  }\n\n  return connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(WithBlueprintComponent);\n}\n\n\n\n\n\n","import React, { Component } from 'react';\nimport { IconButton } from '../../presentational';\nimport { Attachment } from '@material-ui/icons';\nimport { withRouter } from 'react-router-dom';\nimport { withBlueprint } from './WithBlueprint';\n\nclass BlueprintButton extends Component {  \n  \n  render() {\n\n    const { match, history } = this.props;\n\n    return (\n      <IconButton icon={<Attachment />} \n                  title=\"Adicionar Planta\" \n                  action={ () => history.push(`/place/${match.params.id}/blueprint`)} />\n    )\n  }\n\n}\n\nexport default withBlueprint(withRouter(BlueprintButton));\n","import React, { Component } from 'react'\nimport { FilePond } from 'react-filepond';\nimport 'filepond/dist/filepond.min.css';\nimport { Grid } from '@material-ui/core';\nimport { Done } from '@material-ui/icons';\nimport { SecundaryButton } from '../../presentational';\nimport { withRouter } from 'react-router-dom';\nimport { withBlueprint } from './WithBlueprint';\nimport { PropTypes } from 'prop-types';\n\nclass BlueprintUpload extends Component {\n\n  _fileUpload = (fieldName, file, metadata, load, error, progress, abort) => {    \n    \n    const { uploadBlueprint, history, match } = this.props;\n    \n    uploadBlueprint(file, { progress, load, error });\n    history.push(`/place/${match.params.id}`);\n  }\n\n  render() {\n\n    const { history, match } = this.props;\n\n    return (\n      <Grid container \n            justify=\"center\"\n            style={{marginTop: `25%`, marginBottom: `25%`, height: `50%` }}>\n        <Grid item \n              xs={10}>\n          <FilePond server={{\n            allowMultiple: false,\n            allowRevert: false,\n            process: this._fileUpload\n          }}/>\n        </Grid>\n        <Grid item\n              xs={7}>\n          <SecundaryButton  icon={<Done />} \n                            title=\"Pronto\" \n                            gridSize={12}\n                            action={() => history.push(`/place/${match.params.id}`)} />\n        </Grid>\n      </Grid>\n    )\n  }\n}\n\nBlueprintUpload.propTypes = {\n  uploadBlueprint: PropTypes.func.isRequired,\n}\n\n\nexport default withBlueprint(withRouter(BlueprintUpload));\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Grid, Typography, Paper } from '@material-ui/core';\nimport { Done, Delete, SettingsOutlined } from '@material-ui/icons';\nimport { withStyles } from '@material-ui/styles';\nimport Slider from '@material-ui/lab/Slider';\nimport { SecundaryButton, DangerButton } from '../../presentational';\nimport { Actions } from '../../store/Actions';\nimport { withRouter } from 'react-router-dom';\nimport { withBlueprint } from './WithBlueprint';\nimport { PropTypes } from 'prop-types';\n\n\nconst CustomSlider = withStyles({\n  root: {\n    color: '#24c6dc',\n    height: 2,\n    padding: '15px 0',\n  },\n  thumb: {\n    height: 28,\n    width: 28,\n    backgroundColor: '#fff',\n    boxShadow: '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)',\n    marginTop: -14,\n    marginLeft: -14,\n    '&:focus,&:hover,&$active': {\n      boxShadow: '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)',\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        boxShadow: '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)',\n      },\n    },\n  },\n  active: {},\n  valueLabel: {\n    left: 'calc(-50% + 11px)',\n    top: -22,\n    '& *': {\n      background: 'transparent',\n      color: '#000',\n    },\n  },\n  track: {\n    height: 2,\n  },\n  rail: {\n    height: 2,\n    opacity: 0.5,\n    backgroundColor: '#bfbfbf',\n  },\n  mark: {\n    backgroundColor: '#bfbfbf',\n    height: 8,\n    width: 1,\n    marginTop: -3,\n  },\n  markActive: {\n    backgroundColor: 'currentColor',\n  }\n})(Slider);\n\nclass BlueprintOptions extends Component {\n\n  state = {\n    overlayIndex: null,\n    rotation: null,\n    scale: null\n  }\n\n\n  _init = () => {\n\n    const { blueprint } = this.props.place;\n    const { overlayIndex } = this.props.match.params;\n    \n    const { rotation, scale } = blueprint[overlayIndex];\n\n    this.setState({\n      overlayIndex: overlayIndex,\n      rotation: rotation,\n      scale: scale\n    });\n  }\n\n  _rotate = (e, angle) => {\n\n    const { overlays } = this.props;\n    const overlay = overlays[this.state.overlayIndex];\n\n    overlay.updateTransform(angle, this.state.scale);\n\n    this.setState({ rotation: angle });\n  }\n\n  _scale = (e, scale) => {\n\n    const { overlays } = this.props;\n    const overlay = overlays[this.state.overlayIndex];\n\n    overlay.updateTransform(this.state.rotation, scale);\n\n    this.setState({ scale: scale });\n  }\n\n  _save = () => {\n    const { overlays, saveBlueprint } = this.props;\n    const overlay = overlays[this.state.overlayIndex];\n    saveBlueprint(overlay);\n  }\n\n  _delete = () => {\n    const { overlays, deleteBlueprint } = this.props;\n    const overlay = overlays[this.state.overlayIndex];\n    \n    // Delete from View\n    overlay.setMap(null);\n    this._isMarkersVisible(false);\n    deleteBlueprint(this.state.overlayIndex);\n    \n    this.props.history.goBack();\n  }\n\n  _complete = () => {\n    this._save();\n    this._isMarkersVisible(false);\n    this.props.history.goBack();\n  }\n\n  _isMarkersVisible = (STATE) => {\n    const { overlays } = this.props;\n    const overlay = overlays[this.state.overlayIndex];\n\n    overlay.updateMarkersVisibility(STATE);\n  }\n\n  componentWillMount() {\n    this._init();\n  }\n\n  componentDidMount() {\n    this._isMarkersVisible(true);\n  }\n\n\n  render() {\n\n    return (\n      <div>\n      <Grid container \n            justify=\"center\"\n            spacing={3}\n            style={{ marginTop: 25, height: `100%` }}>\n        {/* Header */}\n        <Grid item \n              xs={10}>\n          <Typography variant=\"h5\" gutterBottom>\n            <SettingsOutlined style={{ marginRight: 14 }} />\n            Ajustes da planta\n          </Typography>\n\n          <Typography variant=\"h5\" gutterBottom>\n            \n          </Typography>\n        </Grid>\n\n        {/* Image Rotation Slider */}\n        <Grid item \n              xs={10}\n              style={{ marginTop:25 }}>\n          <Typography gutterBottom>Rotao</Typography>\n          <br/>\n          <CustomSlider aria-label=\"rotation\" \n                        value={this.state.rotation}\n                        onChange={this._rotate}\n                        min={-180}\n                        max={180}\n                        valueLabelDisplay=\"auto\"/>\n        </Grid>\n\n        {/* Image Scale Slider */}\n        <Grid item \n              xs={10}\n              style={{ marginTop:25 }}>\n          <Typography gutterBottom>Escala</Typography>\n          <br/>\n          <CustomSlider aria-label=\"scale\" \n                        value={this.state.scale}\n                        onChange={this._scale}\n                        step={0.1}\n                        min={0.1}\n                        max={10}\n                        valueLabelDisplay=\"auto\"/>\n        </Grid>\n\n        {/* Delete Button */}\n        <Grid item\n              xs={9}\n              style={{ marginTop: 25, marginBottom: 90 }}>\n          <DangerButton  icon={<Delete />} \n                          title=\"Excluir\" \n                          gridSize={12} \n                          action={this._delete} />\n        </Grid>\n\n      </Grid>\n      {/* Buttons */}\n      <Paper  elevation={0}\n              style={{\n                position: 'absolute',              \n                bottom:0,\n                width: 340  \n              }}>\n        <Grid container \n              justify=\"center\"\n              spacing={3}\n              style={{margin:'auto', height: `100%` }}>\n\n            {/* Save */}\n            <Grid item\n                  xs={10}>\n              <SecundaryButton  icon={<Done />} \n                                title=\"Pronto\" \n                                gridSize={12} \n                                action={this._complete} />\n          </Grid>\n        </Grid>\n\n      </Paper>\n    </div>\n    )\n  }\n}\n\nBlueprintOptions.propTypes = {\n  overlays: PropTypes.array.isRequired,\n  saveBlueprint: PropTypes.func.isRequired,\n};\n\n\n// \n// REDUX\n// \nconst mapStateToProps = (state) => {\n  return {...state};\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setOverlays: (OVERLAYS_ARRAY) => dispatch({\n      type: Actions.setOverlays,\n      overlays: OVERLAYS_ARRAY\n    }),\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withBlueprint(withRouter(BlueprintOptions)));\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport { Grid, Typography, List, ListItem, ListItemIcon, ListItemText } from '@material-ui/core';\nimport { withRouter } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\nimport { Attachment, Timeline } from '@material-ui/icons';\n\nclass Layer extends Component {\n  \n  \n  _openLayer = (event, url, index) => {\n\n    const { history, match } = this.props;\n\n    history.push(`/place/${match.params.id}/${url}/${index}/options`);\n  }\n\n  render() {\n    \n    const { blueprint, border } = this.props.place;\n    \n    if (blueprint.length === 0 && border.length === 0) {\n      return (\n        <Grid container\n              justify=\"center\"\n              style={{marginTop: `25%`}}>\n          <Grid item\n                xs={10}>\n            <Typography variant = \"subtitle1\"\n                        align = \"center\">\n              Sem camadas de dados. <br />\n              o.0\n            </Typography>\n          </Grid>\n        </Grid>\n      );\n    }\n\n\n\n    const itemLayer = (arrayOfTypes, url, icon) => {\n      return arrayOfTypes.map((type, index) => (\n          <ListItem button\n                    key={(type.title+index)}\n                    onClick={e => this._openLayer(e, url, index)}>\n            <ListItemIcon>\n              {icon}\n            </ListItemIcon>\n            <ListItemText primary={`${type.title}`} />\n          </ListItem>\n      ));\n    }\n    \n    return (\n      <Grid container\n            justify=\"center\"\n            spacing={3}\n            style={{marginTop: 25}}>\n    \n        <Grid item\n              xs={10}>\n        {/* Layers List */}\n        <List component=\"nav\" aria-label=\"Main mailbox folders\">\n          {itemLayer(blueprint, 'blueprint', <Attachment />)}\n          {itemLayer(border, 'border', <Timeline />)}\n        </List>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nLayer.propTypes = {\n  place: PropTypes.object.isRequired,\n  contourPolygons: PropTypes.array.isRequired,\n};\n\n// \n// Redux\n// \nconst mapStateToProps = (state) => {\n  return {...state};\n}\n\nexport default connect(\n  mapStateToProps \n)(withRouter(Layer));","import React, { Component } from 'react';\nimport { Actions } from '../../store/Actions';\nimport { connect } from 'react-redux';\nimport { Route, withRouter } from 'react-router-dom';\n\nimport Skeleton from 'react-loading-skeleton';\nimport { PlaceTwoTone } from '@material-ui/icons';\nimport { Header, HeaderSubtitle, HeaderControl, CustomSkeleton } from '../../presentational';\n\nimport PlaceService from './PlaceService';\n\nimport BorderButton from '../Border/BorderButton';\nimport BorderOptions from '../Border/BorderOptions';\n\nimport BlueprintButton from '../Blueprint/BlueprintButton';\nimport BlueprintUpload from '../Blueprint/BlueprintUpload';\nimport BlueprintOptions from '../Blueprint/BlueprintOptions';\n\nimport Layer from '../Layer/Layer';\n\nclass Place extends Component {\n\n  // Get Place From Id State\n  _getByURLId = () => {\n    const urlId = this.props.match.params.id;\n    PlaceService.getById(urlId, (res) => {        \n      \n      try{\n      \n        const { key, data } = res;\n\n        const place = {\n          ...data,\n          id: key\n        }\n\n        this.props.setMapLocation(data.center);\n        this.props.setPlace(place);\n      } catch (e) {\n        console.log(e);\n      }\n\n    });\n  }\n    \n  componentDidMount() {\n    this._getByURLId();\n  }\n\n\n  render() {\n\n    const { match, place } = this.props;\n\n    if (place === null) {\n      return (\n        <CustomSkeleton />\n      );\n    }\n\n    return (\n        <div>\n          {/* Header Element */}\n          {/* Display Project Infos & Controls */}\n          <Header icon={<PlaceTwoTone />} \n                  title={place.title || <Skeleton /> }>\n\n            <HeaderSubtitle>\n              {place.description || <Skeleton count={3} />}\n            </HeaderSubtitle>\n\n            {/* Control Buttons */}\n            <HeaderControl>\n              <BorderButton />\n              <BlueprintButton />\n              {/* <IconButton icon={<AddLocation />} title=\"Marcar Salas\" />  */}\n            </HeaderControl>\n          </Header>\n\n          {/* Routes*/}\n          <div>\n            {/* Layer\n              * On path / place /: id */}\n            <Route path={`${match.path}/`} exact component={Layer}/>\n\n            {/* Border */}\n            {/* Border Create\n              * On Path /place/:id/border/options */}\n            <Route path={`${match.path}/border/:contourIndex/options`} exact component={BorderOptions}/>\n\n            {/* Blueprint */}\n            {/* Blueprint Upload\n              * On path /place/:id/blueprint */}\n            <Route path={`${match.path}/blueprint`} exact component={BlueprintUpload} />\n\n            {/* Blueprint Options\n              * On path /place/:id/blueprint/:overlayIndex/options */}\n            <Route path={`${match.path}/blueprint/:overlayIndex/options`} exact component={BlueprintOptions} />\n\n          </div>\n\n\n          {/* Initiate Types Instances */}\n          {/* <Border /> */}\n\n          {/* <Blueprint  place={this.state.place} \n                      update={this.updatePlace}/> */}\n         \n        </div>\n    );\n  }\n}\n\n// \n// Redux\n// \nconst mapStateToProps = (state) => {\n  return {...state};\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setPlace: (place) => dispatch({\n      type: Actions.setPlace,\n      place: place\n    }),\n    setMapLocation: (position) => dispatch({\n      type: Actions.setMapLocation,\n      lat: position.latitude,\n      lng: position.longitude,\n      zoom: 18\n    }),\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(Place));","import React, { Component } from 'react'\nimport { Route, withRouter } from 'react-router-dom';\nimport { Drawer as MaterialDrawer, withStyles } from '@material-ui/core';\n\nimport { AppBar } from '../../presentational';\nimport PlaceList from '../Place/PlaceList';\nimport Place from '../Place/Place';\n\n\nconst styles = {\n  drawer: {\n    width: `375px`,\n    height: `100vh`,\n    overflowX: 'hidden'\n  }\n}\n\n\nclass Drawer extends Component {\n  \n  // \n  // Router\n  // \n  // => handles AppBar Logo/Button Action;\n  _setURLToHome = () => {\n    this.props.history.push('/');\n  }\n\n  render() {\n\n    const { classes, user, singOut } = this.props;\n\n    console.log(user);\n\n    return (\n      <MaterialDrawer anchor=\"left\"\n                      variant=\"permanent\">\n\n          <AppBar user={user} singOut={singOut} action={ this._setURLToHome }/>\n\n          <div className={classes.drawer}>\n            <Route  path=\"/\" \n                    exact \n                    component={PlaceList} />\n            <Route  path=\"/place/:id\" \n                    component={Place} />\n          </div>     \n      </MaterialDrawer>\n    )\n  }\n}\n\n\nexport default withStyles(styles)(withRouter(Drawer));","/* global google */\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Actions } from '../../store/Actions';\n\nimport { withStyles } from '@material-ui/core';\n\n\nconst styles = {\n  map: {\n    position: 'absolute',\n    top: 0,\n    margin: 0,\n    width: `100vw`,\n    height: `100vh`\n  }\n}\n\n\nclass Map extends Component {\n  \n  // \n  // API\n  // Google Maps, Draw Library, Overlays...\n  // \n  _initAPIs = () => {\n    // => Init. API's\n    const mapAPI = this._startMapAPI();\n    const drawAPI = this._startDrawAPI();\n\n    // => Set Managers to API's\n    drawAPI.setMap(mapAPI);\n\n    // => Store API's state\n    const { setMapAPI, setDrawAPI } = this.props;\n    setMapAPI(mapAPI);\n    setDrawAPI(drawAPI);\n  }\n\n _startMapAPI = () => {\n    return new google.maps.Map(document.getElementById('map'), {\n      center:  new google.maps.LatLng(this.props.lat, this.props.lng),\n      zoom: this.props.zoom\n    });\n  }\n\n  _startDrawAPI = () => {\n    return new google.maps.drawing.DrawingManager({\n      drawingControl: false\n    });\n  }\n\n  // \n  // Maps Options\n  // \n  _changeMapPosition = () => {\n\n    const { mapAPI, lat, lng, zoom } = this.props.map;\n    \n    mapAPI.setCenter({\n      lat: lat,\n      lng: lng\n    });\n\n    mapAPI.setZoom(zoom);\n  }\n  \n  \n  // \n  // React Components\n  // \n  componentDidMount() {\n    this._initAPIs()\n  }\n  \n  componentDidUpdate() {\n    this._changeMapPosition();\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n        <div  id=\"map\"\n              className={classes.map}>\n        </div>\n    );\n  }\n  \n}\n\n\n// \n// REDUX\n// \nconst mapStateToProps = (state) => {\n  return {...state};\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setMapAPI: (mapAPI) => dispatch({\n      type: Actions.setMapAPI,\n      mapAPI: mapAPI\n    }),\n    setDrawAPI: (drawAPI) => dispatch({\n      type: Actions.setMapDrawAPI,\n      drawAPI: drawAPI\n    })\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(Map));","import React from 'react'\nimport GoogleButton from 'react-google-button';\nimport { Grid, Typography } from '@material-ui/core';\nimport { AppBar } from '../../presentational';\n\nconst login = (props) => {\n\n  const { signInWithGoogle } = props;\n\n  return (\n    <Grid container\n          justify=\"center\">\n      \n      {/* AppBar */}\n      <Grid item\n            xs={12}>\n        <AppBar action={null} user={null} singOut={null} />\n      </Grid>\n      \n      <Grid item  \n            xs={4}>\n        <Grid container\n              style={{marginTop: 24, background: '#FFFFFF'}}\n              spacing={5}\n              justify=\"center\">\n          \n          <Grid item\n                xs={12}>          \n            <Typography variant=\"h5\" \n                        gutterBottom>\n              LOGIN\n            </Typography>\n            <Typography variant=\"caption\" \n                        gutterBottom>\n              Selecione o mtodo de login desejado para acessar a aplicao\n            </Typography>\n          </Grid>\n\n          {/* LogIn Options */}\n          <Grid item>\n            <GoogleButton onClick={signInWithGoogle} />\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default login;","import React, { Component } from 'react';\nimport Drawer from './container/Layout/Drawer';\nimport Map from './container/Layout/Map';\nimport withFirebaseAuth from 'react-with-firebase-auth';\nimport { providers, fireAuth } from './connect/FirebaseConnect';\nimport Login from './container/Layout/Login';\n\nclass App extends Component {\n  \n  render() {\n\n    const { user, signOut, signInWithGoogle} = this.props;\n\n    // Login\n    if(!user) {\n      return (\n        <Login signInWithGoogle={signInWithGoogle}  />\n      );\n    }\n\n    return (      \n      <main>\n        <Drawer user={user} singOut={signOut} />\n        <Map />\n      </main>\n    );\n  }\n}\n\n\nexport default withFirebaseAuth({\n  firebaseAppAuth: fireAuth,\n  providers: providers,\n})(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Actions } from './Actions';\n\n// \n// Reducer\n// \n\nconst InitialState = { \n  map: {\n    mapAPI: null,\n    drawAPI: null,\n    lat: -14.235004,\n    lng: -51.925279,\n    zoom: 3,\n  },\n  place: null,\n  overlays: [],\n  contourPolygons: [],\n  isContourLoaded: false,\n  isOverlaysLoaded: false,\n}\n\nexport const reducer = (state=InitialState, act) => {\n\n  const { type } = act;\n  const { setMapAPI, \n          setMapLocation, \n          setMapDrawAPI, \n          setOverlays,\n          setContourPolygons,\n          setPlace,\n          setContourLoaded,\n          setOverlaysLoaded,\n          resetStore\n        } = Actions;\n\n  switch (type) {\n    \n    case resetStore:\n      \n    console.log('reset');\n      // Except map\n      return {\n        ...InitialState,\n        map: {...state.map}\n      }\n\n    /**\n     * Map Reducer\n     * \n     * Implements:\n     * setMapAPI, setMapLocation, setDrawAPI\n     */\n    case setMapAPI:\n      return {\n        ...state,\n        map: { \n          ...state.map,\n          mapAPI: act.mapAPI\n        }\n      }\n    case setMapLocation:\n      return {\n        ...state,\n        map: {\n          ...state.map,\n          lat: act.lat,\n          lng: act.lng,\n          zoom: act.zoom\n        }\n      }\n    case setMapDrawAPI:\n      return {\n        ...state,\n        map: {\n          ...state.map,\n          drawAPI: act.drawAPI\n        }\n      }\n    \n\n    /**\n     * Place Reducer\n     * \n     * Implements:\n     * setPlace\n     */\n    case setPlace:\n      \n      return {\n        ...state,\n        place: {...act.place}\n      }\n\n\n    /**\n     * Overlays (instances of Blueprints) Reducer\n     * \n     * Implements:\n     * setOverlays\n     */\n    case setOverlays:\n      return {\n        ...state,\n        overlays: [...act.overlays]\n      }\n    \n    case setOverlaysLoaded:\n      return {\n        ...state,\n        isOverlaysLoaded: act.isOverlaysLoaded\n      }\n\n\n    /**\n     * Contour Polygons (instances of Border) Reducer\n     * \n     * Implements:\n     * setOverlays\n     */\n    case setContourPolygons:\n      return {\n        ...state,\n        contourPolygons: [...act.contourPolygons]\n      }\n      \n    case setContourLoaded:\n      return {\n        ...state,\n        isContourLoaded: act.isContourLoaded\n      }\n\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport { reducer } from './store/Reducer';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport 'normalize.css';\nimport './index.css';\n\nconst store = createStore(reducer);\n\nconst app = (\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>\n);\n\nReactDOM.render(app, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}